import{bt as ue,s as D,R as W,G as B,S as fe,H as V,h as m,x as E,C as ve,bu as j,bv as q,o as b,m as T,w as P,I as de,a as H,J as h,b as u,Q as N,N as me,T as ne,at as re,c as G,d as O,F as pe,a9 as he,v as L,ae as J,j as Q,B as ge,a5 as Z,D as ye,V as be,A as we,ah as Se,P as I,ab as ke,n as U,aF as ze,Y as ce,b0 as Ee,aL as _e,aS as ee,K as te,L as se}from"./index-6ff172c9.js";import{t as Ce}from"./error-78e43d3e.js";import{a as Te}from"./index-1ce73683.js";const qe=(s="")=>s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Je=s=>ue(s),C=4,He={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Be=({move:s,size:o,bar:l})=>({[l.size]:o,transform:`translate${l.axis}(${s}%)`}),ie=Symbol("scrollbarContextKey"),Re=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Pe=B({__name:"thumb",props:Re,setup(s){const o=s,l=fe(ie),n=V("scrollbar");l||Ce(Le,"can not inject scrollbar context");const a=m(),f=m(),c=m({}),v=m(!1);let t=!1,p=!1,g=re?document.onselectstart:null;const r=E(()=>He[o.vertical?"vertical":"horizontal"]),y=E(()=>Be({size:o.size,move:o.move,bar:r.value})),S=E(()=>a.value[r.value.offset]**2/l.wrapElement[r.value.scrollSize]/o.ratio/f.value[r.value.offset]),k=i=>{var e;if(i.stopPropagation(),i.ctrlKey||[1,2].includes(i.button))return;(e=window.getSelection())==null||e.removeAllRanges(),F(i);const d=i.currentTarget;d&&(c.value[r.value.axis]=d[r.value.offset]-(i[r.value.client]-d.getBoundingClientRect()[r.value.direction]))},Y=i=>{if(!f.value||!a.value||!l.wrapElement)return;const e=Math.abs(i.target.getBoundingClientRect()[r.value.direction]-i[r.value.client]),d=f.value[r.value.offset]/2,z=(e-d)*100*S.value/a.value[r.value.offset];l.wrapElement[r.value.scroll]=z*l.wrapElement[r.value.scrollSize]/100},F=i=>{i.stopImmediatePropagation(),t=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",_),g=document.onselectstart,document.onselectstart=()=>!1},M=i=>{if(!a.value||!f.value||t===!1)return;const e=c.value[r.value.axis];if(!e)return;const d=(a.value.getBoundingClientRect()[r.value.direction]-i[r.value.client])*-1,z=f.value[r.value.offset]-e,R=(d-z)*100*S.value/a.value[r.value.offset];l.wrapElement[r.value.scroll]=R*l.wrapElement[r.value.scrollSize]/100},_=()=>{t=!1,c.value[r.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",_),x(),p&&(v.value=!1)},K=()=>{p=!1,v.value=!!o.size},X=()=>{p=!0,v.value=t};ve(()=>{x(),document.removeEventListener("mouseup",_)});const x=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return j(q(l,"scrollbarElement"),"mousemove",K),j(q(l,"scrollbarElement"),"mouseleave",X),(i,e)=>(b(),T(ne,{name:u(n).b("fade"),persisted:""},{default:P(()=>[de(H("div",{ref_key:"instance",ref:a,class:h([u(n).e("bar"),u(n).is(u(r).key)]),onMousedown:Y},[H("div",{ref_key:"thumb",ref:f,class:h(u(n).e("thumb")),style:N(u(y)),onMousedown:k},null,38)],34),[[me,i.always||v.value]])]),_:1},8,["name"]))}});var ae=W(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Ne=D({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Me=B({__name:"bar",props:Ne,setup(s,{expose:o}){const l=s,n=m(0),a=m(0);return o({handleScroll:c=>{if(c){const v=c.offsetHeight-C,t=c.offsetWidth-C;a.value=c.scrollTop*100/v*l.ratioY,n.value=c.scrollLeft*100/t*l.ratioX}}}),(c,v)=>(b(),G(pe,null,[O(ae,{move:n.value,ratio:c.ratioX,size:c.width,always:c.always},null,8,["move","ratio","size","always"]),O(ae,{move:a.value,ratio:c.ratioY,size:c.height,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var xe=W(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const $e=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:he([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Ae={scroll:({scrollTop:s,scrollLeft:o})=>[s,o].every(L)},Oe="ElScrollbar",De=B({name:Oe}),We=B({...De,props:$e,emits:Ae,setup(s,{expose:o,emit:l}){const n=s,a=V("scrollbar");let f,c;const v=m(),t=m(),p=m(),g=m("0"),r=m("0"),y=m(),S=m(1),k=m(1),Y=E(()=>{const e={};return n.height&&(e.height=J(n.height)),n.maxHeight&&(e.maxHeight=J(n.maxHeight)),[n.wrapStyle,e]}),F=E(()=>[n.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!n.native}]),M=E(()=>[a.e("view"),n.viewClass]),_=()=>{var e;t.value&&((e=y.value)==null||e.handleScroll(t.value),l("scroll",{scrollTop:t.value.scrollTop,scrollLeft:t.value.scrollLeft}))};function K(e,d){ze(e)?t.value.scrollTo(e):L(e)&&L(d)&&t.value.scrollTo(e,d)}const X=e=>{L(e)&&(t.value.scrollTop=e)},x=e=>{L(e)&&(t.value.scrollLeft=e)},i=()=>{if(!t.value)return;const e=t.value.offsetHeight-C,d=t.value.offsetWidth-C,z=e**2/t.value.scrollHeight,R=d**2/t.value.scrollWidth,$=Math.max(z,n.minSize),A=Math.max(R,n.minSize);S.value=z/(e-z)/($/(e-$)),k.value=R/(d-R)/(A/(d-A)),r.value=$+C<e?`${$}px`:"",g.value=A+C<d?`${A}px`:""};return Q(()=>n.noresize,e=>{e?(f==null||f(),c==null||c()):({stop:f}=ge(p,i),c=j("resize",i))},{immediate:!0}),Q(()=>[n.maxHeight,n.height],()=>{n.native||Z(()=>{var e;i(),t.value&&((e=y.value)==null||e.handleScroll(t.value))})}),ye(ie,be({scrollbarElement:v,wrapElement:t})),we(()=>{n.native||Z(()=>{i()})}),Se(()=>i()),o({wrapRef:t,update:i,scrollTo:K,setScrollTop:X,setScrollLeft:x,handleScroll:_}),(e,d)=>(b(),G("div",{ref_key:"scrollbarRef",ref:v,class:h(u(a).b())},[H("div",{ref_key:"wrapRef",ref:t,class:h(u(F)),style:N(u(Y)),onScroll:_},[(b(),T(ke(e.tag),{ref_key:"resizeRef",ref:p,class:h(u(M)),style:N(e.viewStyle)},{default:P(()=>[I(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?U("v-if",!0):(b(),T(xe,{key:0,ref_key:"barRef",ref:y,height:r.value,width:g.value,always:e.always,"ratio-x":k.value,"ratio-y":S.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Ye=W(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Qe=ce(Ye),w=new Map;let oe;re&&(document.addEventListener("mousedown",s=>oe=s),document.addEventListener("mouseup",s=>{for(const o of w.values())for(const{documentHandler:l}of o)l(s,oe)}));function le(s,o){let l=[];return Array.isArray(o.arg)?l=o.arg:Ee(o.arg)&&l.push(o.arg),function(n,a){const f=o.instance.popperRef,c=n.target,v=a==null?void 0:a.target,t=!o||!o.instance,p=!c||!v,g=s.contains(c)||s.contains(v),r=s===c,y=l.length&&l.some(k=>k==null?void 0:k.contains(c))||l.length&&l.includes(v),S=f&&(f.contains(c)||f.contains(v));t||p||g||r||y||S||o.value(n,a)}}const Ze={beforeMount(s,o){w.has(s)||w.set(s,[]),w.get(s).push({documentHandler:le(s,o),bindingFn:o.value})},updated(s,o){w.has(s)||w.set(s,[]);const l=w.get(s),n=l.findIndex(f=>f.bindingFn===o.oldValue),a={documentHandler:le(s,o),bindingFn:o.value};n>=0?l.splice(n,1,a):l.push(a)},unmounted(s){w.delete(s)}},Fe=D({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:_e,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ke={close:s=>s instanceof MouseEvent,click:s=>s instanceof MouseEvent},Xe=B({name:"ElTag"}),je=B({...Xe,props:Fe,emits:Ke,setup(s,{emit:o}){const l=s,n=Te(),a=V("tag"),f=E(()=>{const{type:t,hit:p,effect:g,closable:r,round:y}=l;return[a.b(),a.is("closable",r),a.m(t),a.m(n.value),a.m(g),a.is("hit",p),a.is("round",y)]}),c=t=>{o("close",t)},v=t=>{o("click",t)};return(t,p)=>t.disableTransitions?(b(),G("span",{key:0,class:h(u(f)),style:N({backgroundColor:t.color}),onClick:v},[H("span",{class:h(u(a).e("content"))},[I(t.$slots,"default")],2),t.closable?(b(),T(u(se),{key:0,class:h(u(a).e("close")),onClick:te(c,["stop"])},{default:P(()=>[O(u(ee))]),_:1},8,["class","onClick"])):U("v-if",!0)],6)):(b(),T(ne,{key:1,name:`${u(a).namespace.value}-zoom-in-center`,appear:""},{default:P(()=>[H("span",{class:h(u(f)),style:N({backgroundColor:t.color}),onClick:v},[H("span",{class:h(u(a).e("content"))},[I(t.$slots,"default")],2),t.closable?(b(),T(u(se),{key:0,class:h(u(a).e("close")),onClick:te(c,["stop"])},{default:P(()=>[O(u(ee))]),_:1},8,["class","onClick"])):U("v-if",!0)],6)]),_:3},8,["name"]))}});var Ie=W(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const et=ce(Ie);export{Ze as C,et as E,Qe as a,Je as c,qe as e,Fe as t};
